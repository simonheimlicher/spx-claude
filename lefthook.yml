pre-commit:
  commands:
    fix-xml-spacing:
      glob: "*.md"
      run: perl -i -0777 -pe 's/(^\s*-.*)(\n) *</\1\n\n</gm' {staged_files}
      stage_fixed: true
      priority: 0
    validate-marketplace:
      run: claude plugin validate .
      priority: 10
    validate-plugins:
      run: find plugins -maxdepth 1 -type d -mindepth 1 -exec claude plugin validate {} \;
      priority: 20
    dprint:
      glob: "*.{md,python,ts,js,json,jsonc}"
      run: dprint fmt {staged_files}
      stage_fixed: true
      priority: 100
